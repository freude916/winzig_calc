# 微算

简单算术表达式的解释器。

仍在开发中。

## 注意

这是一个开发中项目，不保证任何可用性和稳定性。

个人练习项目，不保证任何功能的实现或技术支持。

随意 pr，我巴之不得。

## 食用方法

简单地使用 `winzig_calc.c` 里的 `winzig_ez_main(argc, argv)` 作为一个 repl。

或者你可以初始化一个 `WinzigCalc` 对象，使用 `winzig_code` 来解析微算代码。

或者你可以尝试单独使用 分词器、解析器 或 执行器。

## 特性

- [x] 只有一种数据类型：`long double`
- [x] 支持大量运算符
  * 计算：   +, -, *, /, ^ ( 这是 pow )
  * 赋值：   =, +=, -=, *=, /=
  * 逻辑：   &, | ( 返回 0 或 1，没有短路或惰性求值 )
  * 比较：   ==, !=, <, <=, >, >=
- [x] ( ) 控制优先级
- [x] { } 控制块
- [x] if, else, while 语句

## 已知问题

1. **解析器** 中的阴间特殊判断。
2. 只支持 1 种数字类型：long double
3. 代码中隐藏着依托 bug。纯史山。

## 未来计划

这段也是问题分析。

等我闲出屁来就会做了。:)

- [ ] **词法分析器**，枚举标记运算符和关键字，方便 **解析器**。
- [ ] **风格化器**，优化代码风格（提前操作，使分词器只需要切分空格）
- [ ] 声明预收集，优化内存，提高速度，方便检查未定义
- [ ] 改进数据结构，保存变量类型，添加更多类型：布尔，字符串等。
- [ ] 字符串字面量
- [ ] 函数语法
- [ ] 全局 **runner** ，错误处理
- [ ] 数组类型
  1. 数组字面量 [,] 语法和数组访问 [] 语法
  2. 切片，范围和其他迭代器方法
  3. for-in 循环
- [ ] 常量优化
